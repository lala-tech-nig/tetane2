{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LALA%20TECH/Desktop/tetane/frontend/src/context/AuthContext.js"],"sourcesContent":["'use client';\r\nimport { createContext, useState, useEffect, useContext } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\n\r\nconst AuthContext = createContext();\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n    const [user, setUser] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const router = useRouter();\r\n\r\n    useEffect(() => {\r\n        checkUserLoggedIn();\r\n    }, []);\r\n\r\n    const checkUserLoggedIn = async () => {\r\n        // Build this robustly later. For now, check if token exists.\r\n        const token = localStorage.getItem('token');\r\n        const userData = localStorage.getItem('user');\r\n\r\n        if (token && userData) {\r\n            setUser(JSON.parse(userData));\r\n        }\r\n        setLoading(false);\r\n    };\r\n\r\n    const login = async (email, password) => {\r\n        const url = `https://tetane2.onrender.com/api/auth/login`;\r\n        console.log('Logging in at:', url);\r\n        try {\r\n            const res = await fetch(url, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify({ email, password }),\r\n            });\r\n\r\n            const data = await res.json();\r\n\r\n            if (!res.ok) {\r\n                throw new Error(data.msg || 'Login failed');\r\n            }\r\n\r\n            localStorage.setItem('token', data.token);\r\n            localStorage.setItem('user', JSON.stringify(data.user));\r\n            setUser(data.user);\r\n\r\n            // Redirect based on role\r\n            if (data.user.role === 'admin') router.push('/dashboard/admin');\r\n            else if (data.user.role === 'instructor') router.push('/dashboard/instructor');\r\n            else router.push('/dashboard/student');\r\n\r\n            return { success: true };\r\n        } catch (error) {\r\n            return { success: false, error: error.message };\r\n        }\r\n    };\r\n\r\n    const register = async ({ name, email, password, role }) => {\r\n        const url = `https://tetane2.onrender.com/api/auth/register`;\r\n        console.log('Registering at:', url);\r\n        try {\r\n            const res = await fetch(url, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify({ name, email, password, role }),\r\n            });\r\n\r\n            const data = await res.json();\r\n\r\n            if (!res.ok) {\r\n                throw new Error(data.msg || 'Registration failed');\r\n            }\r\n\r\n            localStorage.setItem('token', data.token);\r\n            localStorage.setItem('user', JSON.stringify(data.user));\r\n            setUser(data.user);\r\n\r\n            // Redirect based on role\r\n            if (data.user.role === 'admin') router.push('/dashboard/admin');\r\n            else if (data.user.role === 'instructor') router.push('/dashboard/instructor');\r\n            else router.push('/dashboard/student');\r\n\r\n            return { success: true };\r\n        } catch (error) {\r\n            return { success: false, error: error.message };\r\n        }\r\n    };\r\n\r\n    const logout = () => {\r\n        localStorage.removeItem('token');\r\n        localStorage.removeItem('user');\r\n        setUser(null);\r\n        router.push('/auth/login');\r\n    };\r\n\r\n    return (\r\n        <AuthContext.Provider value={{ user, login, register, logout, loading }}>\r\n            {children}\r\n        </AuthContext.Provider>\r\n    );\r\n};\r\n\r\n\r\nexport const useAuth = () => useContext(AuthContext);\r\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAFA;;;;AAIA,MAAM,4BAAc,IAAA,sNAAa;AAE1B,MAAM,eAAe,CAAC,EAAE,QAAQ,EAAE;IACrC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IACjC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,SAAS,IAAA,+IAAS;IAExB,IAAA,kNAAS,EAAC;QACN;IACJ,GAAG,EAAE;IAEL,MAAM,oBAAoB;QACtB,6DAA6D;QAC7D,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,MAAM,WAAW,aAAa,OAAO,CAAC;QAEtC,IAAI,SAAS,UAAU;YACnB,QAAQ,KAAK,KAAK,CAAC;QACvB;QACA,WAAW;IACf;IAEA,MAAM,QAAQ,OAAO,OAAO;QACxB,MAAM,MAAM,CAAC,2CAA2C,CAAC;QACzD,QAAQ,GAAG,CAAC,kBAAkB;QAC9B,IAAI;YACA,MAAM,MAAM,MAAM,MAAM,KAAK;gBACzB,QAAQ;gBACR,SAAS;oBACL,gBAAgB;gBACpB;gBACA,MAAM,KAAK,SAAS,CAAC;oBAAE;oBAAO;gBAAS;YAC3C;YAEA,MAAM,OAAO,MAAM,IAAI,IAAI;YAE3B,IAAI,CAAC,IAAI,EAAE,EAAE;gBACT,MAAM,IAAI,MAAM,KAAK,GAAG,IAAI;YAChC;YAEA,aAAa,OAAO,CAAC,SAAS,KAAK,KAAK;YACxC,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC,KAAK,IAAI;YACrD,QAAQ,KAAK,IAAI;YAEjB,yBAAyB;YACzB,IAAI,KAAK,IAAI,CAAC,IAAI,KAAK,SAAS,OAAO,IAAI,CAAC;iBACvC,IAAI,KAAK,IAAI,CAAC,IAAI,KAAK,cAAc,OAAO,IAAI,CAAC;iBACjD,OAAO,IAAI,CAAC;YAEjB,OAAO;gBAAE,SAAS;YAAK;QAC3B,EAAE,OAAO,OAAO;YACZ,OAAO;gBAAE,SAAS;gBAAO,OAAO,MAAM,OAAO;YAAC;QAClD;IACJ;IAEA,MAAM,WAAW,OAAO,EAAE,IAAI,EAAE,KAAK,EAAE,QAAQ,EAAE,IAAI,EAAE;QACnD,MAAM,MAAM,CAAC,8CAA8C,CAAC;QAC5D,QAAQ,GAAG,CAAC,mBAAmB;QAC/B,IAAI;YACA,MAAM,MAAM,MAAM,MAAM,KAAK;gBACzB,QAAQ;gBACR,SAAS;oBACL,gBAAgB;gBACpB;gBACA,MAAM,KAAK,SAAS,CAAC;oBAAE;oBAAM;oBAAO;oBAAU;gBAAK;YACvD;YAEA,MAAM,OAAO,MAAM,IAAI,IAAI;YAE3B,IAAI,CAAC,IAAI,EAAE,EAAE;gBACT,MAAM,IAAI,MAAM,KAAK,GAAG,IAAI;YAChC;YAEA,aAAa,OAAO,CAAC,SAAS,KAAK,KAAK;YACxC,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC,KAAK,IAAI;YACrD,QAAQ,KAAK,IAAI;YAEjB,yBAAyB;YACzB,IAAI,KAAK,IAAI,CAAC,IAAI,KAAK,SAAS,OAAO,IAAI,CAAC;iBACvC,IAAI,KAAK,IAAI,CAAC,IAAI,KAAK,cAAc,OAAO,IAAI,CAAC;iBACjD,OAAO,IAAI,CAAC;YAEjB,OAAO;gBAAE,SAAS;YAAK;QAC3B,EAAE,OAAO,OAAO;YACZ,OAAO;gBAAE,SAAS;gBAAO,OAAO,MAAM,OAAO;YAAC;QAClD;IACJ;IAEA,MAAM,SAAS;QACX,aAAa,UAAU,CAAC;QACxB,aAAa,UAAU,CAAC;QACxB,QAAQ;QACR,OAAO,IAAI,CAAC;IAChB;IAEA,qBACI,8OAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAO;YAAU;YAAQ;QAAQ;kBACjE;;;;;;AAGb;AAGO,MAAM,UAAU,IAAM,IAAA,mNAAU,EAAC"}},
    {"offset": {"line": 155, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/components/Navbar.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"authButtons\": \"Navbar-module__cJzEcG__authButtons\",\n  \"bar\": \"Navbar-module__cJzEcG__bar\",\n  \"desktopMenu\": \"Navbar-module__cJzEcG__desktopMenu\",\n  \"logo\": \"Navbar-module__cJzEcG__logo\",\n  \"mobileLink\": \"Navbar-module__cJzEcG__mobileLink\",\n  \"mobileMenu\": \"Navbar-module__cJzEcG__mobileMenu\",\n  \"mobileToggle\": \"Navbar-module__cJzEcG__mobileToggle\",\n  \"navContainer\": \"Navbar-module__cJzEcG__navContainer\",\n  \"navLink\": \"Navbar-module__cJzEcG__navLink\",\n  \"navbar\": \"Navbar-module__cJzEcG__navbar\",\n  \"userName\": \"Navbar-module__cJzEcG__userName\",\n  \"userSection\": \"Navbar-module__cJzEcG__userSection\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 173, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LALA%20TECH/Desktop/tetane/frontend/src/components/Navbar.js"],"sourcesContent":["'use client';\r\nimport Link from 'next/link';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport styles from './Navbar.module.css';\r\nimport { useState } from 'react';\r\n\r\nexport default function Navbar() {\r\n    const { user, logout } = useAuth();\r\n    const [isMenuOpen, setIsMenuOpen] = useState(false);\r\n\r\n    return (\r\n        <nav className={styles.navbar}>\r\n            <div className={`container ${styles.navContainer}`}>\r\n                <Link href=\"/\" className={styles.logo}>\r\n                    Tetane Learn\r\n                </Link>\r\n\r\n                {/* Desktop Menu */}\r\n                <div className={styles.desktopMenu}>\r\n                    <Link href=\"/courses\" className={styles.navLink}>Courses</Link>\r\n                    {user ? (\r\n                        <>\r\n                            {user.role === 'student' && <Link href=\"/dashboard/student\" className={styles.navLink}>My Learning</Link>}\r\n                            {user.role === 'instructor' && <Link href=\"/dashboard/instructor\" className={styles.navLink}>Instructor Dashboard</Link>}\r\n                            <div className={styles.userSection}>\r\n                                <span className={styles.userName}>{user.name}</span>\r\n                                <button onClick={logout} className=\"btn btn-outline\" style={{ padding: '6px 12px', fontSize: '0.85rem' }}>Logout</button>\r\n                            </div>\r\n                        </>\r\n                    ) : (\r\n                        <div className={styles.authButtons}>\r\n                            <Link href=\"/auth/login\" className={styles.navLink}>Log in</Link>\r\n                            <Link href=\"/auth/register\" className=\"btn btn-primary\" style={{ padding: '8px 16px' }}>Sign up</Link>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                {/* Mobile Toggle */}\r\n                <button className={styles.mobileToggle} onClick={() => setIsMenuOpen(!isMenuOpen)}>\r\n                    <span className={styles.bar}></span>\r\n                    <span className={styles.bar}></span>\r\n                    <span className={styles.bar}></span>\r\n                </button>\r\n\r\n                {/* Mobile Menu */}\r\n                {isMenuOpen && (\r\n                    <div className={styles.mobileMenu}>\r\n                        <Link href=\"/courses\" className={styles.mobileLink} onClick={() => setIsMenuOpen(false)}>Courses</Link>\r\n                        {user ? (\r\n                            <>\r\n                                {user.role === 'student' && <Link href=\"/dashboard/student\" className={styles.mobileLink} onClick={() => setIsMenuOpen(false)}>My Learning</Link>}\r\n                                {user.role === 'instructor' && <Link href=\"/dashboard/instructor\" className={styles.mobileLink} onClick={() => setIsMenuOpen(false)}>Instructor Dashboard</Link>}\r\n                                <button onClick={() => { logout(); setIsMenuOpen(false); }} className={styles.mobileLink} style={{ border: 'none', background: 'none', width: '100%', textAlign: 'left' }}>Logout</button>\r\n                            </>\r\n                        ) : (\r\n                            <>\r\n                                <Link href=\"/auth/login\" className={styles.mobileLink} onClick={() => setIsMenuOpen(false)}>Log in</Link>\r\n                                <Link href=\"/auth/register\" className={styles.mobileLink} onClick={() => setIsMenuOpen(false)}>Sign up</Link>\r\n                            </>\r\n                        )}\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </nav>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AAJA;;;;;;AAMe,SAAS;IACpB,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,GAAG,IAAA,wIAAO;IAChC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAE7C,qBACI,8OAAC;QAAI,WAAW,kJAAM,CAAC,MAAM;kBACzB,cAAA,8OAAC;YAAI,WAAW,CAAC,UAAU,EAAE,kJAAM,CAAC,YAAY,EAAE;;8BAC9C,8OAAC,uKAAI;oBAAC,MAAK;oBAAI,WAAW,kJAAM,CAAC,IAAI;8BAAE;;;;;;8BAKvC,8OAAC;oBAAI,WAAW,kJAAM,CAAC,WAAW;;sCAC9B,8OAAC,uKAAI;4BAAC,MAAK;4BAAW,WAAW,kJAAM,CAAC,OAAO;sCAAE;;;;;;wBAChD,qBACG;;gCACK,KAAK,IAAI,KAAK,2BAAa,8OAAC,uKAAI;oCAAC,MAAK;oCAAqB,WAAW,kJAAM,CAAC,OAAO;8CAAE;;;;;;gCACtF,KAAK,IAAI,KAAK,8BAAgB,8OAAC,uKAAI;oCAAC,MAAK;oCAAwB,WAAW,kJAAM,CAAC,OAAO;8CAAE;;;;;;8CAC7F,8OAAC;oCAAI,WAAW,kJAAM,CAAC,WAAW;;sDAC9B,8OAAC;4CAAK,WAAW,kJAAM,CAAC,QAAQ;sDAAG,KAAK,IAAI;;;;;;sDAC5C,8OAAC;4CAAO,SAAS;4CAAQ,WAAU;4CAAkB,OAAO;gDAAE,SAAS;gDAAY,UAAU;4CAAU;sDAAG;;;;;;;;;;;;;yDAIlH,8OAAC;4BAAI,WAAW,kJAAM,CAAC,WAAW;;8CAC9B,8OAAC,uKAAI;oCAAC,MAAK;oCAAc,WAAW,kJAAM,CAAC,OAAO;8CAAE;;;;;;8CACpD,8OAAC,uKAAI;oCAAC,MAAK;oCAAiB,WAAU;oCAAkB,OAAO;wCAAE,SAAS;oCAAW;8CAAG;;;;;;;;;;;;;;;;;;8BAMpG,8OAAC;oBAAO,WAAW,kJAAM,CAAC,YAAY;oBAAE,SAAS,IAAM,cAAc,CAAC;;sCAClE,8OAAC;4BAAK,WAAW,kJAAM,CAAC,GAAG;;;;;;sCAC3B,8OAAC;4BAAK,WAAW,kJAAM,CAAC,GAAG;;;;;;sCAC3B,8OAAC;4BAAK,WAAW,kJAAM,CAAC,GAAG;;;;;;;;;;;;gBAI9B,4BACG,8OAAC;oBAAI,WAAW,kJAAM,CAAC,UAAU;;sCAC7B,8OAAC,uKAAI;4BAAC,MAAK;4BAAW,WAAW,kJAAM,CAAC,UAAU;4BAAE,SAAS,IAAM,cAAc;sCAAQ;;;;;;wBACxF,qBACG;;gCACK,KAAK,IAAI,KAAK,2BAAa,8OAAC,uKAAI;oCAAC,MAAK;oCAAqB,WAAW,kJAAM,CAAC,UAAU;oCAAE,SAAS,IAAM,cAAc;8CAAQ;;;;;;gCAC9H,KAAK,IAAI,KAAK,8BAAgB,8OAAC,uKAAI;oCAAC,MAAK;oCAAwB,WAAW,kJAAM,CAAC,UAAU;oCAAE,SAAS,IAAM,cAAc;8CAAQ;;;;;;8CACrI,8OAAC;oCAAO,SAAS;wCAAQ;wCAAU,cAAc;oCAAQ;oCAAG,WAAW,kJAAM,CAAC,UAAU;oCAAE,OAAO;wCAAE,QAAQ;wCAAQ,YAAY;wCAAQ,OAAO;wCAAQ,WAAW;oCAAO;8CAAG;;;;;;;yDAG/K;;8CACI,8OAAC,uKAAI;oCAAC,MAAK;oCAAc,WAAW,kJAAM,CAAC,UAAU;oCAAE,SAAS,IAAM,cAAc;8CAAQ;;;;;;8CAC5F,8OAAC,uKAAI;oCAAC,MAAK;oCAAiB,WAAW,kJAAM,CAAC,UAAU;oCAAE,SAAS,IAAM,cAAc;8CAAQ;;;;;;;;;;;;;;;;;;;;;;;;;AAQ/H"}}]
}