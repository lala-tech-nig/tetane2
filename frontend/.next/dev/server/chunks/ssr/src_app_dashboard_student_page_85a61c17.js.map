{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LALA%20TECH/Desktop/tetane/frontend/src/app/dashboard/student/page.js"],"sourcesContent":["'use client';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useEffect, useState } from 'react';\r\nimport Link from 'next/link';\r\n\r\nexport default function StudentDashboard() {\r\n    const { user, loading } = useAuth();\r\n    const router = useRouter();\r\n    const [enrolledCourses, setEnrolledCourses] = useState([]);\r\n\r\n    useEffect(() => {\r\n        if (!loading && (!user || user.role !== 'student')) {\r\n            router.push('/auth/login');\r\n        } else if (user) {\r\n            fetchEnrolledCourses();\r\n        }\r\n    }, [user, loading, router]);\r\n\r\n    const fetchEnrolledCourses = async () => {\r\n        try {\r\n            const token = localStorage.getItem('token');\r\n            const res = await fetch(`${process.env.NEXT_PUBLIC_API_URL}/courses/my/enrolled`, {\r\n                headers: { 'x-auth-token': token }\r\n            });\r\n            const data = await res.json();\r\n            setEnrolledCourses(Array.isArray(data) ? data : []);\r\n        } catch (err) {\r\n            console.error('Error fetching enrolled courses:', err);\r\n        }\r\n    };\r\n\r\n    if (loading || !user) return <div className=\"container section\"><p>Loading...</p></div>;\r\n\r\n    return (\r\n        <div className=\"container section\">\r\n            <div style={{ paddingBottom: '30px', borderBottom: '1px solid var(--border-light)', marginBottom: '30px' }}>\r\n                <h1 style={{ fontSize: '2rem', marginBottom: '8px' }}>My Learning</h1>\r\n                <p style={{ color: 'var(--text-secondary)' }}>Welcome back, {user.name}!</p>\r\n            </div>\r\n\r\n            <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fill, minmax(280px, 1fr))', gap: '30px' }}>\r\n                {enrolledCourses.length > 0 ? (\r\n                    enrolledCourses.map(course => (\r\n                        <div key={course._id} className=\"card\" style={{ padding: '0', overflow: 'hidden' }}>\r\n                            <div style={{ padding: '24px' }}>\r\n                                <span style={{ color: 'var(--primary)', fontSize: '0.85rem', fontWeight: '600' }}>{course.category}</span>\r\n                                <h3 style={{ margin: '8px 0', fontSize: '1.2rem' }}>{course.title}</h3>\r\n                                <p style={{ color: 'var(--text-secondary)', fontSize: '0.9rem', marginBottom: '20px' }}>Instructor: {course.instructorId?.name}</p>\r\n                                <Link href={`/course/${course._id}`} className=\"btn btn-outline btn-full\">Continue Learning</Link>\r\n                            </div>\r\n                        </div>\r\n                    ))\r\n                ) : (\r\n                    <div style={{\r\n                        gridColumn: '1 / -1',\r\n                        border: '2px dashed var(--border-light)',\r\n                        borderRadius: 'var(--radius)',\r\n                        display: 'flex',\r\n                        flexDirection: 'column',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'center',\r\n                        padding: '60px',\r\n                        textAlign: 'center'\r\n                    }}>\r\n                        <p style={{ marginBottom: '20px', color: 'var(--text-secondary)' }}>You haven't enrolled in any courses yet.</p>\r\n                        <Link href=\"/courses\" className=\"btn btn-primary\">Browse Courses</Link>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AAJA;;;;;;AAMe,SAAS;IACpB,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,IAAA,wIAAO;IACjC,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,iNAAQ,EAAC,EAAE;IAEzD,IAAA,kNAAS,EAAC;QACN,IAAI,CAAC,WAAW,CAAC,CAAC,QAAQ,KAAK,IAAI,KAAK,SAAS,GAAG;YAChD,OAAO,IAAI,CAAC;QAChB,OAAO,IAAI,MAAM;YACb;QACJ;IACJ,GAAG;QAAC;QAAM;QAAS;KAAO;IAE1B,MAAM,uBAAuB;QACzB,IAAI;YACA,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,MAAM,MAAM,MAAM,MAAM,GAAG,QAAQ,GAAG,CAAC,mBAAmB,CAAC,oBAAoB,CAAC,EAAE;gBAC9E,SAAS;oBAAE,gBAAgB;gBAAM;YACrC;YACA,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,mBAAmB,MAAM,OAAO,CAAC,QAAQ,OAAO,EAAE;QACtD,EAAE,OAAO,KAAK;YACV,QAAQ,KAAK,CAAC,oCAAoC;QACtD;IACJ;IAEA,IAAI,WAAW,CAAC,MAAM,qBAAO,8OAAC;QAAI,WAAU;kBAAoB,cAAA,8OAAC;sBAAE;;;;;;;;;;;IAEnE,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAI,OAAO;oBAAE,eAAe;oBAAQ,cAAc;oBAAiC,cAAc;gBAAO;;kCACrG,8OAAC;wBAAG,OAAO;4BAAE,UAAU;4BAAQ,cAAc;wBAAM;kCAAG;;;;;;kCACtD,8OAAC;wBAAE,OAAO;4BAAE,OAAO;wBAAwB;;4BAAG;4BAAe,KAAK,IAAI;4BAAC;;;;;;;;;;;;;0BAG3E,8OAAC;gBAAI,OAAO;oBAAE,SAAS;oBAAQ,qBAAqB;oBAAyC,KAAK;gBAAO;0BACpG,gBAAgB,MAAM,GAAG,IACtB,gBAAgB,GAAG,CAAC,CAAA,uBAChB,8OAAC;wBAAqB,WAAU;wBAAO,OAAO;4BAAE,SAAS;4BAAK,UAAU;wBAAS;kCAC7E,cAAA,8OAAC;4BAAI,OAAO;gCAAE,SAAS;4BAAO;;8CAC1B,8OAAC;oCAAK,OAAO;wCAAE,OAAO;wCAAkB,UAAU;wCAAW,YAAY;oCAAM;8CAAI,OAAO,QAAQ;;;;;;8CAClG,8OAAC;oCAAG,OAAO;wCAAE,QAAQ;wCAAS,UAAU;oCAAS;8CAAI,OAAO,KAAK;;;;;;8CACjE,8OAAC;oCAAE,OAAO;wCAAE,OAAO;wCAAyB,UAAU;wCAAU,cAAc;oCAAO;;wCAAG;wCAAa,OAAO,YAAY,EAAE;;;;;;;8CAC1H,8OAAC,uKAAI;oCAAC,MAAM,CAAC,QAAQ,EAAE,OAAO,GAAG,EAAE;oCAAE,WAAU;8CAA2B;;;;;;;;;;;;uBALxE,OAAO,GAAG;;;;8CAUxB,8OAAC;oBAAI,OAAO;wBACR,YAAY;wBACZ,QAAQ;wBACR,cAAc;wBACd,SAAS;wBACT,eAAe;wBACf,YAAY;wBACZ,gBAAgB;wBAChB,SAAS;wBACT,WAAW;oBACf;;sCACI,8OAAC;4BAAE,OAAO;gCAAE,cAAc;gCAAQ,OAAO;4BAAwB;sCAAG;;;;;;sCACpE,8OAAC,uKAAI;4BAAC,MAAK;4BAAW,WAAU;sCAAkB;;;;;;;;;;;;;;;;;;;;;;;AAM1E"}}]
}